<h1>Merkle Trees : Assignment 3</h1>

<p>One of the major security and validity checks that blockchains
do is using Merkle trees.</p>

<p>In this assignment you will implement a Merkle tree hash.</p>

<p>When you pull code from git you should have a <code>./A-03/hash</code> directory.
This is a copy of Assignment 2&rsquo;s <code>./A-02/hash</code>.  The new code that you will
be working on is in <code>./merkle</code>.</p>

<h3>Pseudo Code</h3>

<ol>
<li>Create a slice to hold the hashes of the leaves.  Each leaf hash is a <code>[]byte</code>.  So make the data type <code>[][]byte</code>.
Make this slice of slice of byte then length of the data.  That would be <code>len(data)</code>.  Let&rsquo;s call this <code>hTmp</code>.</li>
<li>For each data block

<ol>
<li>Calculate a hash for the data block using <code>hash.HashOf()</code>.</li>
<li>Save this in the slice created in (1) above.</li>
</ol></li>
<li>Create a <code>[][]byte</code> slice to hold the intermediate hashes in the tree.
This will need to be no more than <code>len(data)/2+1</code> in length.  The plus 1 is so that 0 blocks of hasing or an odd
number of blocks will have enough space.  Let&rsquo;s call this <code>hMid</code>.</li>
<li>Start with <code>ln = len(data)/2+1</code></li>
<li>While <code>ln &gt;= 1</code>

<ol>
<li>For each pair of hashes (if you have an odd number just use the single hash)

<ul>
<li>Calculate the hash of the pair using <code>hash.Keccak256</code>.  It takes a variable number of arguments so you can
pass 1 or 2 arguments to it.</li>
<li>Append this to <code>hMid</code>.</li>
</ul></li>
<li>Replace hTmp with hMid</li>
<li>Recalculate <code>ln = len(hTmp)/2</code></li>
<li>Generate a new empty hMId of length ln</li>
</ol></li>
<li>Return <code>hTmp[0]</code></li>
</ol>

<h1>Submit</h1>

<ol>
<li>Your code, ./merkle/merkle.go.</li>
<li>Any additional test cases that you created.</li>
<li>Your prove that this works.</li>
</ol>

<h1>References</h1>

<ol>
<li><a href="https://en.wikipedia.org/wiki/Merkle_tree">Wikipedia has a nice discussion</a></li>
<li><a href="https://brilliant.org/wiki/merkle-tree/">Another explanation of Merkle Trees - with more details</a></li>
</ol>
